(window.webpackJsonp=window.webpackJsonp||[]).push([[4,35,36,40,43],{1247:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(35),__webpack_require__(48),__webpack_require__(3),__webpack_require__(21),__webpack_require__(118);var asyncToGenerator=__webpack_require__(36),dist_runtime=(__webpack_require__(76),__webpack_require__(2)),VDmcaNotice=__webpack_require__(1260),VOtherIssueForm=__webpack_require__(1261),VDoneMessage=__webpack_require__(1262),VReportError=__webpack_require__(1263),api_service=__webpack_require__(102),report_service={sendReport:function sendReport(params){return api_service.b.post("/images/".concat(params.identifier,"/report/"),params)}},icons_close=__webpack_require__(318),close_default=__webpack_require__.n(icons_close),VIcon=__webpack_require__(69),VButton=__webpack_require__(93),reasons={DMCA:"dmca",MATURE:"mature",OTHER:"other"},statuses_SENT="sent",statuses_FAILED="failed",statuses_ADDING_DETAILS="adding_details",statuses_OPEN="open",statuses_CLOSED="closed",VContentReportFormvue_type_script_lang_js_=Object(dist_runtime.b)({name:"VContentReportForm",components:{VDoneMessage:VDoneMessage.default,VDmcaNotice:VDmcaNotice.default,VReportError:VReportError.default,VOtherIssueForm:VOtherIssueForm.default,VButton:VButton.default,VIcon:VIcon.default},props:["image","providerName","reportService"],setup:function setup(props,_ref){var emit=_ref.emit,reportStatus=Object(dist_runtime.l)(statuses_OPEN),reasonSelected=Object(dist_runtime.l)(null),service=props.reportService||report_service,sendContentReport=function(){var _ref2=Object(asyncToGenerator.a)(regeneratorRuntime.mark((function _callee(){var _ref3,_ref3$description,description,_args=arguments;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _ref3=_args.length>0&&void 0!==_args[0]?_args[0]:{},_ref3$description=_ref3.description,description=void 0===_ref3$description?"":_ref3$description,_context.prev=1,_context.next=4,service.sendReport({identifier:props.image.id,reason:reasonSelected.value,description:description});case 4:reportStatus.value=statuses_SENT,_context.next=10;break;case 7:_context.prev=7,_context.t0=_context.catch(1),reportStatus.value=statuses_FAILED;case 10:case"end":return _context.stop()}}),_callee,null,[[1,7]])})));return function sendContentReport(){return _ref2.apply(this,arguments)}}(),reportFailed=Object(dist_runtime.a)((function(){return reportStatus.value===statuses_FAILED})),isDone=Object(dist_runtime.a)((function(){return reportStatus.value===statuses_SENT&&!(reasonSelected.value===reasons.DMCA)})),showOtherForm=Object(dist_runtime.a)((function(){return reportStatus.value===statuses_ADDING_DETAILS&&reasonSelected.value===reasons.OTHER})),showDmcaForm=Object(dist_runtime.a)((function(){return reportStatus.value===statuses_ADDING_DETAILS&&reasonSelected.value===reasons.DMCA}));return{reasonSelected:reasonSelected,closeIcon:close_default.a,dmcaFormUrl:"https://docs.google.com/forms/d/e/1FAIpQLSd0I8GsEbGQLdaX4K_F6V2NbHZqN137WMZgnptUpzwd-kbDKA/viewform",isDone:isDone,reportFailed:reportFailed,closeForm:function closeForm(){reportStatus.value=statuses_CLOSED,emit("close-form")},onIssueSelected:function onIssueSelected(){reasonSelected.value&&![reasons.OTHER,reasons.DMCA].includes(reasonSelected.value)?sendContentReport():reportStatus.value=statuses_ADDING_DETAILS},onBackClick:function onBackClick(){reportStatus.value=statuses_OPEN},sendContentReport:sendContentReport,backToReportStart:function backToReportStart(){reasonSelected.value=null,reportStatus.value=statuses_OPEN},showOtherForm:showOtherForm,showDmcaForm:showDmcaForm,reasons:Object.values(reasons)}}}),VContentReport_VContentReportFormvue_type_script_lang_js_=VContentReportFormvue_type_script_lang_js_,componentNormalizer=__webpack_require__(16),component=Object(componentNormalizer.a)(VContentReport_VContentReportFormvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"p-4 arrow-popup",attrs:{id:"content-report-form"}},[_c("button",{staticClass:"button close-button is-text tiny float-right block bg-white",attrs:{"aria-label":_vm.$t("photo-details.aria.close-form"),type:"button"},on:{click:_vm.closeForm}},[_c("VIcon",{attrs:{"icon-path":_vm.closeIcon}})],1),_vm._v(" "),_vm.showDmcaForm?_c("VDmcaNotice",{attrs:{"image-url":_vm.image.foreign_landing_url,provider:_vm.providerName,"dmca-form-url":_vm.dmcaFormUrl},on:{"back-click":_vm.onBackClick}}):_vm.isDone?_c("VDoneMessage",{attrs:{"image-url":_vm.image.foreign_landing_url,provider:_vm.providerName}}):_vm.reportFailed?_c("VReportError",{on:{"back-click":_vm.backToReportStart}}):_vm.showOtherForm?_c("VOtherIssueForm",{on:{"back-click":_vm.onBackClick,"send-report":_vm.sendContentReport}}):_c("form",[_c("h5",{staticClass:"b-header mb-4"},[_vm._v("\n      "+_vm._s(_vm.$t("photo-details.content-report.title"))+"\n    ")]),_vm._v(" "),_c("fieldset",{staticClass:"mb-4 flex flex-col"},[_c("legend",{staticClass:"mb-4"},[_vm._v("\n        "+_vm._s(_vm.$t("photo-details.content-report.issue"))+"\n      ")]),_vm._v(" "),_vm._l(_vm.reasons,(function(reason){return _c("label",{key:reason,staticClass:"ms-2 mb-2",attrs:{for:reason}},[_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.reasonSelected,expression:"reasonSelected"}],attrs:{id:reason,type:"radio",name:"type"},domProps:{value:reason,checked:_vm._q(_vm.reasonSelected,reason)},on:{change:function($event){_vm.reasonSelected=reason}}}),_vm._v("\n        "+_vm._s(_vm.$t("photo-details.content-report.reasons."+reason))+"\n      ")])}))],2),_vm._v(" "),_c("p",{staticClass:"caption font-semibold text-gray mb-4"},[_vm._v("\n      "+_vm._s(_vm.$t("photo-details.content-report.caption"))+"\n    ")]),_vm._v(" "),_c("VButton",{staticClass:"float-end bg-trans-blue",attrs:{disabled:!_vm.reasonSelected,variant:"secondary"},on:{click:_vm.onIssueSelected}},[_vm._v("\n      "+_vm._s(_vm.$t("photo-details.content-report.next"))+"\n    ")])],1)],1)}),[],!1,null,null,null);const __vuedocgen_export_0=component.exports;__webpack_exports__.default=__vuedocgen_export_0;installComponents(component,{VIcon:__webpack_require__(69).default,VDmcaNotice:__webpack_require__(1260).default,VDoneMessage:__webpack_require__(1262).default,VReportError:__webpack_require__(1263).default,VOtherIssueForm:__webpack_require__(1261).default,VButton:__webpack_require__(93).default}),__vuedocgen_export_0.__docgenInfo={displayName:"VContentReportForm",exportName:"default",description:"",tags:{},props:[{name:"image",type:{name:"undefined"}},{name:"providerName",type:{name:"undefined"}},{name:"reportService",type:{name:"undefined"}}]}},1260:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var runtime=__webpack_require__(2),VButton=__webpack_require__(93),VIcon=__webpack_require__(69),chevron_left=__webpack_require__(1304),chevron_left_default=__webpack_require__.n(chevron_left),VContentReport_VDmcaNoticevue_type_script_lang_js_=Object(runtime.b)({name:"DmcaNotice",components:{VButton:VButton.default,VIcon:VIcon.default},props:{dmcaFormUrl:{type:String,required:!0},imageUrl:{type:String,required:!0},provider:{type:String,required:!0}},setup:function setup(_,_ref){var emit=_ref.emit;return{chevronLeftIcon:chevron_left_default.a,onBackClick:function onBackClick(){emit("back-click")}}}}),componentNormalizer=__webpack_require__(16),component=Object(componentNormalizer.a)(VContentReport_VDmcaNoticevue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("i18n",{staticClass:"block px-6 mt-10 text-center",attrs:{path:"photo-details.content-report.dmca.content",tag:"p"},scopedSlots:_vm._u([{key:"link",fn:function(){return[_c("a",{attrs:{"aria-label":_vm.$t("photo-details.aria.dmca"),href:_vm.dmcaFormUrl,target:"_blank",rel:"noopener"}},[_vm._v(_vm._s(_vm.$t("photo-details.content-report.dmca.link")))])]},proxy:!0}])}),_vm._v(" "),_c("i18n",{staticClass:"block px-6 mt-4 text-center",attrs:{path:"photo-details.content-report.provider",tag:"p"},scopedSlots:_vm._u([{key:"link",fn:function(){return[_c("a",{attrs:{"aria-label":_vm.$t("photo-details.aria.provider-report-form",{provider:_vm.provider}),href:_vm.imageUrl,target:"_blank",rel:"noopener"}},[_vm._v(_vm._s(_vm.provider))])]},proxy:!0}])}),_vm._v(" "),_c("VButton",{attrs:{type:"button",variant:"action-button",size:"small"},on:{click:_vm.onBackClick}},[_c("VIcon",{staticClass:"me-2",attrs:{"icon-path":_vm.chevronLeftIcon}}),_vm._v("\n    "+_vm._s(_vm.$t("photo-details.content-report.back"))+"\n  ")],1)],1)}),[],!1,null,null,null);const __vuedocgen_export_0=component.exports;__webpack_exports__.default=__vuedocgen_export_0;installComponents(component,{VIcon:__webpack_require__(69).default,VButton:__webpack_require__(93).default}),__vuedocgen_export_0.__docgenInfo={displayName:"DmcaNotice",exportName:"default",description:"",tags:{},props:[{name:"dmcaFormUrl",type:{name:"string"},required:!0},{name:"imageUrl",type:{name:"string"},required:!0},{name:"provider",type:{name:"string"},required:!0}]}},1261:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var runtime=__webpack_require__(2),chevron_left=__webpack_require__(1304),chevron_left_default=__webpack_require__.n(chevron_left),VButton=__webpack_require__(93),VIcon=__webpack_require__(69),VContentReport_VOtherIssueFormvue_type_script_lang_js_=Object(runtime.b)({name:"OtherIssueForm",components:{VButton:VButton.default,VIcon:VIcon.default},setup:function setup(_,_ref){var emit=_ref.emit,description=Object(runtime.l)(""),descriptionHasMoreThan20Chars=Object(runtime.a)((function(){return description.value.length>=20}));return{chevronLeftIcon:chevron_left_default.a,description:description,isValid:descriptionHasMoreThan20Chars,onBackClick:function onBackClick(){emit("back-click")},sendContentReport:function sendContentReport(){return emit("send-report",{description:description.value})}}}}),componentNormalizer=__webpack_require__(16),component=Object(componentNormalizer.a)(VContentReport_VOtherIssueFormvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("form",{staticClass:"other-form"},[_c("h4",{staticClass:"b-header"},[_vm._v("\n    "+_vm._s(_vm.$t("photo-details.content-report.title"))+"\n  ")]),_vm._v(" "),_c("label",{staticClass:"mb-2",attrs:{for:"description"}},[_vm._v("\n    "+_vm._s(_vm.$t("photo-details.content-report.issue-description"))+"\n    "),_c("textarea",{directives:[{name:"model",rawName:"v-model",value:_vm.description,expression:"description"}],staticClass:"reason p-2 font-semibold border border-dark-charcoal w-full h-24 text-sm",attrs:{id:"description",placeholder:_vm.$t("photo-details.content-report.placeholder")},domProps:{value:_vm.description},on:{input:function($event){$event.target.composing||(_vm.description=$event.target.value)}}})]),_vm._v(" "),_c("div",{staticClass:"flex flex-row justify-between align-end mt-4"},[_c("VButton",{attrs:{type:"button",variant:"action-button",size:"small"},on:{click:_vm.onBackClick}},[_c("VIcon",{staticClass:"me-2",attrs:{"icon-path":_vm.chevronLeftIcon}}),_vm._v("\n      "+_vm._s(_vm.$t("photo-details.content-report.back"))+"\n    ")],1),_vm._v(" "),_c("VButton",{staticClass:"float-right bg-trans-blue",attrs:{disabled:!_vm.isValid,variant:"secondary"},on:{click:_vm.sendContentReport}},[_vm._v("\n      "+_vm._s(_vm.$t("photo-details.content-report.submit"))+"\n    ")])],1)])}),[],!1,null,null,null);const __vuedocgen_export_0=component.exports;__webpack_exports__.default=__vuedocgen_export_0;installComponents(component,{VIcon:__webpack_require__(69).default,VButton:__webpack_require__(93).default}),__vuedocgen_export_0.__docgenInfo={displayName:"OtherIssueForm",exportName:"default",description:"",tags:{}}},1262:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var VContentReport_VDoneMessagevue_type_script_lang_js_={name:"DoneMessage",props:["imageUrl","provider"]},componentNormalizer=__webpack_require__(16);const __vuedocgen_export_0=Object(componentNormalizer.a)(VContentReport_VDoneMessagevue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"my-10"},[_c("span",{staticClass:"block px-6 text-center"},[_vm._v("\n    "+_vm._s(_vm.$t("photo-details.content-report.thanks"))+"\n  ")]),_vm._v(" "),_c("i18n",{staticClass:"block px-6 mt-10 text-center",attrs:{path:"photo-details.content-report.provider",tag:"span"},scopedSlots:_vm._u([{key:"link",fn:function(){return[_c("a",{attrs:{"aria-label":_vm.$t("photo-details.aria.provider-report-form",{provider:_vm.provider}),href:_vm.imageUrl,target:"_blank",rel:"noopener"}},[_vm._v(_vm._s(_vm.provider))])]},proxy:!0}])})],1)}),[],!1,null,null,null).exports;__webpack_exports__.default=__vuedocgen_export_0;__vuedocgen_export_0.__docgenInfo={displayName:"DoneMessage",exportName:"default",description:"",tags:{},props:[{name:"imageUrl",type:{name:"undefined"}},{name:"provider",type:{name:"undefined"}}]}},1263:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var runtime=__webpack_require__(2),VIcon=__webpack_require__(69),chevron_left=__webpack_require__(1304),chevron_left_default=__webpack_require__.n(chevron_left),VContentReport_VReportErrorvue_type_script_lang_js_=Object(runtime.b)({name:"VReportError",components:{VIcon:VIcon.default},setup:function setup(_,_ref){var emit=_ref.emit;return{chevronLeftIcon:chevron_left_default.a,onBackClick:function onBackClick(){return emit("back-click")}}}}),componentNormalizer=__webpack_require__(16),component=Object(componentNormalizer.a)(VContentReport_VReportErrorvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("span",{staticClass:"block px-6 mt-10 text-center"},[_vm._v("\n    "+_vm._s(_vm.$t("photo-details.content-report.submission-error"))+"\n  ")]),_vm._v(" "),_c("button",{staticClass:"button is-text tiny mt-4",attrs:{type:"button"},on:{click:_vm.onBackClick}},[_c("VIcon",{staticClass:"me-2",attrs:{"icon-path":_vm.chevronLeftIcon}}),_vm._v("\n    "+_vm._s(_vm.$t("photo-details.content-report.back"))+"\n  ")],1)])}),[],!1,null,null,null);const __vuedocgen_export_0=component.exports;__webpack_exports__.default=__vuedocgen_export_0;installComponents(component,{VIcon:__webpack_require__(69).default}),__vuedocgen_export_0.__docgenInfo={displayName:"VReportError",exportName:"default",description:"",tags:{}}},1304:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"78df5592eee680ccc6aaf27ffb969861.svg"}}]);